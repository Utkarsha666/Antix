#include "Sprite.h"

// Antix Game Engine by Utkarsha ///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// this is a simple sprite class //////////////////////////////////////////////////////////////////////////////////////////////////
// the main logic behind this class is simple ////////////////////////////////////////////////////////////////////////////////////
// we already have a quad class that draws quad on the screen ///////////////////////////////////////////////////////////////////
// first load texture into memory same as we did while generating vertex buffers and then bind it ///////////////////////////////
// after we bind the texture, now we can draw the quad. The texture will be mapped accordingly based on the texture coordinate //
// i have made it simple for educational purpose only ///////////////////////////////////////////////////////////////////////////
// ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

using namespace Rendering;
using namespace Models;

Sprite::Sprite()
{
    this->texture = new Texture;
    this->quad = new Quad();
}

Sprite::~Sprite()
{
    delete texture;
    delete quad;
}

void Sprite::setTexture(GLchar *path)
{
    texture->loadTexture(path, false, "sprite");
   // textures["sprite"] = textures;
}

void Sprite::setQuad(Quad*& quad)
{
    this->quad = quad;
}

void Sprite::init()
{
    quad->Create();
}

void Sprite::Draw()
{
    glUseProgram(program);
    texture->bind();
    quad->Draw();
    texture->unbind();
}

